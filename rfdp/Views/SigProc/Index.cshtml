@model rfdp.Models.SigProc
@{
    ViewBag.Title = "Index";
}

<head>
    <meta charset="utf-8" />
    <title>RF Tester GUI</title>
    <style type="text/css">

        button {
            font-size: 10pt;
            height: 25px; 
            width: 60px;
        }
        div#config {
            width: 340px;
            float: left;
            background-color: #e4e4e4;
        }

        div#main {
            width: 100%;
            padding-left: 1em;
            float: left;
            color: green;
        }

        div#info {
            width: 240px;
            background-color: white;
            padding-left: 1em;
            color: green;
        }

        div#stat {
            width: 340px;
            background-color: white;
            float: left;
            padding-left: 1em;
            color: green;
        }

        div#svg {
            width: 600px;
            height: 400px;
            float: left;
            background-color: #e4e4e4;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
        }

        .axis text {
            font-family: sans-serif;
            font-size: 11px;
        }

    </style>
</head>

<div id="config">
    @using (Ajax.BeginForm(
    new AjaxOptions
    {
        HttpMethod = "get",
        InsertionMode = InsertionMode.Replace,
        UpdateTargetId = "main"
    }))
    {
        <fieldset>
            <legend >Configurations:</legend>
            @Html.RadioButton("SelChan", "Single-Channel") Single-Channel
            @Html.RadioButton("SelChan", "Dual-Channel") Dual-Channel<p></p>
            Channel 0: @Html.DropDownList("datalist0") <br />
            Channel 1: @Html.DropDownList("datalist1") <br />
            Sampling Frequency: @Html.TextBox("fs", 100, new { size = "5" }) MHz
            <p></p>
            @Html.RadioButton("SelPanel", "tdom_anlaysis", true) Time Domain Analysis<br />
            @Html.RadioButton("SelPanel", "fdom_analysis", false) Frequency Domain Analysis<br />
            @Html.RadioButton("SelPanel", "eyepat_analysis", false) Eye Diagram<br />
            @Html.RadioButton("SelPanel", "scatter_analysis", false) Scatter<br />
            <button type="submit">Analyze</button><br />
        </fieldset>
        
    }
</div>

<div id="main">
    <div id="info">
        <p>channel 0 source: @Model.datafile[0]</p>
        <p>channel 1 source: @Model.datafile[1]</p>
        <p></p>
    </div>

    <div id="stat">
        <table>
            <tr><td colspan="2" align="center">Signal Statistics</td></tr>
            <tr><td>Data Points</td><td>@Model.len</td></tr>
            <tr><td>Duration</td><td>@Model.duration us</td></tr>
            <tr><td>sampling frequency</td><td>@Model.fs MHz</td></tr>
            <tr><td>Mean</td><td>@Model.mean[0] mV</td></tr>
            <tr><td>RMS</td><td>@Model.rms[0]</td></tr>
            <tr><td>Power</td><td>@Model.pwr[0]</td></tr>
            <tr><td>Max Value</td><td>@Model.max[0] mV</td></tr>
            <tr><td>Min Value</td><td>@Model.min[0] mV</td></tr>
        </table>
    </div>

    <div id="svg_chan">
    </div>
    <div id="svg_plan">
    </div>
</div>

<script type="text/javascript">
    var JSONData_ch0 = JSON.parse(@Html.Raw(Json.Encode(@Model.jasondata[0])));
    var JSONData_ch1 = JSON.parse(@Html.Raw(Json.Encode(@Model.jasondata[1])));
</script>


@section Scripts {
    @Scripts.Render("~/bundles/rfdp_js")
}